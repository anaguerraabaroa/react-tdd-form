(this["webpackJsonpform-with-api-request"]=this["webpackJsonpform-with-api-request"]||[]).push([[0],{68:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),i=n.n(c),s=n(31),u=n.n(s),l=n(42),o=n(35),j=n(43),p=n(32),b=n(111),h=n(75),m=n(73),d=n(114),x=n(105),O=n(108),f=n(110),v=n(109),y=n(72),g=n(74),z=n(113),S=function(e){var t=e.name,n=e.size,r=e.type;return fetch("/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t,size:n,type:r})})},k=n(6),w=function(){var e=Object(r.useState)({name:"",size:"",type:""}),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(!1),i=Object(p.a)(c,2),s=i[0],w=i[1],C=Object(r.useState)(!1),T=Object(p.a)(C,2),W=T[0],P=T[1],q=Object(r.useState)(""),B=Object(p.a)(q,2),J=B[0],D=B[1],E=function(e){var t=e.name,n=e.value;a((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(o.a)({},t,n.length?"":"The ".concat(t," is required")))}))},F=function(e){var t=e.name,n=e.size,r=e.type;E({name:"name",value:t}),E({name:"size",value:n}),E({name:"type",value:r})},I=function(e){var t=e.name,n=e.size,r=e.type;return{name:t.value,size:n.value,type:r.value}},N=function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(500!==t.status){e.next=3;break}return D("Unexpected error, please try again"),e.abrupt("return");case 3:if(400!==t.status){e.next=9;break}return e.next=6,t.json();case 6:return n=e.sent,D(n.message),e.abrupt("return");case 9:D("Connection error, please try later");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,r,a,c,i;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),w(!0),n=t.target.elements,r=n.name,a=n.size,c=n.type,F(I({name:r,size:a,type:c})),e.prev=4,e.next=7,S(I({name:r,size:a,type:c}));case 7:if((i=e.sent).ok){e.next=10;break}throw i;case 10:201===i.status&&(t.target.reset(),P(!0)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),N(e.t0);case 16:w(!1);case 17:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(t){return e.apply(this,arguments)}}(),U=function(e){var t=e.target,n=t.name,r=t.value;E({name:n,value:r})};return Object(k.jsxs)(x.a,{maxWidth:"xs",children:[Object(k.jsx)(O.a,{}),Object(k.jsxs)(z.a,{display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",my:20,children:[Object(k.jsx)(v.a,{component:"h1",variant:"h4",align:"center",color:"primary",children:Object(k.jsx)(z.a,{m:4,children:"Create Product"})}),W&&Object(k.jsx)("p",{children:"Product Stored"}),Object(k.jsx)(v.a,{color:"error",children:J}),Object(k.jsx)("form",{onSubmit:M,children:Object(k.jsxs)(f.a,{container:!0,spacing:4,children:[Object(k.jsx)(f.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{label:"name",id:"name",name:"name",helperText:n.name,onBlur:U,error:!!n.name.length})}),Object(k.jsx)(f.a,{item:!0,xs:12,children:Object(k.jsx)(b.a,{fullWidth:!0,label:"size",id:"size",name:"size",helperText:n.size,onBlur:U,error:!!n.size.length})}),Object(k.jsx)(f.a,{item:!0,xs:12,children:Object(k.jsxs)(g.a,{fullWidth:!0,error:!!n.type.length,children:[Object(k.jsx)(h.a,{htmlFor:"type",children:"type"}),Object(k.jsxs)(m.a,{fullWidth:!0,native:!0,error:!!n.type.length,inputProps:{name:"type",id:"type"},children:[Object(k.jsx)("option",{"aria-label":"None",value:""}),Object(k.jsx)("option",{value:"electronic",children:"Electronic"}),Object(k.jsx)("option",{value:"furniture",children:"Furniture"}),Object(k.jsx)("option",{value:"clothing",children:"Clothing"})]}),Object(k.jsx)(y.a,{children:!!n.type&&Object(k.jsx)("p",{children:n.type})})]})}),Object(k.jsx)(f.a,{item:!0,xs:12,children:Object(k.jsx)(d.a,{fullWidth:!0,color:"primary",variant:"contained",type:"submit",disabled:s,children:"Submit"})})]})})]})]})};var C=function(){return Object(k.jsx)(w,{})};i.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(C,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.13502f57.chunk.js.map